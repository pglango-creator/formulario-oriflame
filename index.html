<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pedido Oriflame</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="contenedor">

    <h1>Pedido Oriflame ğŸ›ï¸</h1>
    <p class="subtitulo">Formulario de pedido y asesoramiento personalizado</p>

    <!-- BENEFICIOS MEMBER -->
    <div class="beneficios">
      <h2>âœ¨ Beneficios por ser Member</h2>
      <ul>
        <li>ğŸ <strong>15% de descuento</strong> de bienvenida</li>
        <li>ğŸšš EnvÃ­o gratis en productos seleccionados</li>
        <li>ğŸ’¸ <strong>15% de Cashback</strong> en tus compras</li>
        <li>ğŸ¤ Acceso a ofertas y promociones especiales</li>
      </ul>
    </div>

    <!-- FORMULARIO -->
    <form id="pedidoForm">

      <label>Nombre y apellidos *</label>
      <input id="nombre" type="text" required>

      <label>DirecciÃ³n *</label>
      <input id="direccion" type="text" required>

      <label>CÃ³digo Postal *</label>
      <input id="cp" type="text" required>

      <label>Email *</label>
      <input id="email" type="email" required>

      <label>TelÃ©fono *</label>
      <input id="telefono" type="tel" required>

      <label>Â¿En quÃ© horario te viene mejor que te contacte? (Opcional)</label>
      <input id="horario" type="text" placeholder="Ej: maÃ±anas, tardes, a partir de las 18h">

      <!-- PRODUCTOS -->
      <h3 class="productos-titulo">ğŸ›’ Productos</h3>

      <div id="productos">
        <div class="producto">
          <input class="prod-nombre" type="text" placeholder="Nombre o cÃ³digo del producto">
          <input class="prod-cantidad" type="number" placeholder="Cantidad" min="1" value="1">
          <button type="button" class="btn-eliminar" onclick="eliminarProducto(this)">âœ–</button>
        </div>
      </div>

      <button type="button" class="btn-secundario" onclick="agregarProducto()">
        â• AÃ±adir otro producto
      </button>

      <label>Â¿Necesitas asesoramiento? (Opcional)</label>
      <textarea id="asesoramiento" placeholder="CuÃ©ntame en quÃ© puedo ayudarte..."></textarea>

      <!-- TEXTO INFORMATIVO -->
      <p class="info">
        ğŸ“Œ Si solicitas asesoramiento, me pondrÃ© en contacto contigo lo antes posible.<br>
        ğŸ“¦ Si realizas un pedido, te escribirÃ© para confirmar disponibilidad, precio y forma de pago.
      </p>

      <div class="privacidad">
        <input type="checkbox" required>
        <span>
          He leÃ­do y acepto la polÃ­tica de privacidad.  
          Los datos se usarÃ¡n Ãºnicamente para gestionar el pedido y el asesoramiento.
        </span>
      </div>

      <!-- BOTÃ“N PEDIDO -->
      <button type="submit" class="btn-principal">
        Enviar pedido por WhatsApp
      </button>

    </form>

    <!-- BOTÃ“N WHATSAPP ASESORAMIENTO -->
    <a
      href="https://wa.me/34610274439"
      target="_blank"
      class="btn-whatsapp"
    >
      ğŸ’¬ Contactar por WhatsApp para asesoramiento
    </a>

  </div>

  <script>
    function actualizarBotonesEliminar() {
      const productos = document.querySelectorAll(".producto");
      productos.forEach(p => {
        const boton = p.querySelector(".btn-eliminar");
        boton.style.display = productos.length > 1 ? "inline-block" : "none";
      });
    }

    function agregarProducto() {
      const contenedor = document.getElementById("productos");
      const div = document.createElement("div");
      div.className = "producto";
      div.innerHTML = `
        <input class="prod-nombre" type="text" placeholder="Nombre o cÃ³digo del producto">
        <input class="prod-cantidad" type="number" placeholder="Cantidad" min="1" value="1">
        <button type="button" class="btn-eliminar" onclick="eliminarProducto(this)">âœ–</button>
      `;
      contenedor.appendChild(div);
      actualizarBotonesEliminar();
    }

    function eliminarProducto(boton) {
      if (!confirm("Â¿Seguro que quieres eliminar este producto?")) return;
      boton.parentElement.remove();
      actualizarBotonesEliminar();
    }

    actualizarBotonesEliminar();

    document.getElementById("pedidoForm").addEventListener("submit", function(e) {
      e.preventDefault();

      let mensaje = "ğŸ›ï¸ *NUEVO PEDIDO ORIFLAME*%0A%0A";

      mensaje += "ğŸ‘¤ *Nombre:* " + document.getElementById("nombre").value + "%0A";
      mensaje += "ğŸ  *DirecciÃ³n:* " + document.getElementById("direccion").value + "%0A";
      mensaje += "ğŸ“® *CÃ³digo Postal:* " + document.getElementById("cp").value + "%0A";
      mensaje += "ğŸ“§ *Email:* " + document.getElementById("email").value + "%0A";
      mensaje += "ğŸ“± *TelÃ©fono:* " + document.getElementById("telefono").value + "%0A";

      const horario = document.getElementById("horario").value;
      if (horario) {
        mensaje += "â° *Horario de contacto:* " + horario + "%0A";
      }

      mensaje += "%0AğŸ›’ *Productos:*%0A";

      document.querySelectorAll(".producto").forEach(p => {
        const nombre = p.querySelector(".prod-nombre").value;
        const cantidad = p.querySelector(".prod-cantidad").value;
        if (nombre && cantidad) {
          mensaje += "â€¢ " + nombre + " (x" + cantidad + ")%0A";
        }
      });

      const asesoramiento = document.getElementById("asesoramiento").value;
      if (asesoramiento) {
        mensaje += "%0AğŸ’¬ *Asesoramiento:*%0A" + asesoramiento;
      }

      const url = "https://wa.me/34610274439?text=" + mensaje;
      window.open(url, "_blank");
    });
  </script>

</body>
</html>