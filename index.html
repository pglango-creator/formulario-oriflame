<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pedido Oriflame</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="container">
    <h1>Pedido Oriflame ğŸ›ï¸</h1>
    <p class="subtitle">Formulario de pedido y asesoramiento personalizado</p>

    <!-- BENEFICIOS MEMBER -->
    <div class="beneficios">
      <h2>âœ¨ Beneficios por ser Member</h2>

      <div class="beneficio">
        <strong>ğŸ·ï¸ 15 % de descuento de bienvenida + envÃ­o gratis</strong>
        <p>Ahorra un <strong>15 %</strong> en tu primer pedido y disfruta de envÃ­o gratuito en productos seleccionados.</p>
      </div>

      <div class="beneficio">
        <strong>ğŸ’° 15 % de cashback en cada compra</strong>
        <p>Recupera un <strong>15 %</strong> de tus compras para seguir ahorrando en prÃ³ximos pedidos.</p>
      </div>

      <div class="beneficio">
        <strong>ğŸ” Recompensas cuando tus amigos compran</strong>
        <p>Recomienda tus productos favoritos y gana beneficios por cada pedido que realicen.</p>
      </div>
    </div>

    <!-- FORMULARIO -->
    <form id="formulario">
      <label>Nombre y apellidos *</label>
      <input type="text" id="nombre" required />

      <label>DirecciÃ³n *</label>
      <input type="text" id="direccion" required />

      <label>CÃ³digo Postal *</label>
      <input type="text" id="cp" required />

      <label>Email *</label>
      <input type="email" id="email" required />

      <label>TelÃ©fono *</label>
      <input type="tel" id="telefono" required />

      <label>Â¿En quÃ© horario te viene mejor que te contacte? (Opcional)</label>
      <input type="text" id="horario" placeholder="Ej: maÃ±anas, tardes, a partir de las 18h" />

      <!-- PRODUCTOS -->
      <h2>ğŸ›’ Productos</h2>

      <div id="productos">
        <div class="producto">
          <input type="text" placeholder="CÃ³digo del producto" class="codigo" />
          <input type="number" min="1" value="1" class="cantidad" />
          <button type="button" class="eliminar" onclick="eliminarProducto(this)">ğŸ—‘ï¸</button>
        </div>
      </div>

      <button type="button" class="add" onclick="agregarProducto()">â• AÃ±adir otro producto</button>

      <!-- ASESORAMIENTO -->
      <label>Â¿Necesitas asesoramiento? (Opcional)</label>
      <textarea id="asesoramiento" placeholder="CuÃ©ntame en quÃ© puedo ayudarte..."></textarea>

      <!-- PRIVACIDAD -->
      <div class="privacidad">
        <input type="checkbox" id="privacidad" required />
        <label for="privacidad">
          He leÃ­do y acepto la polÃ­tica de privacidad.<br />
          <small>
            Los datos se usarÃ¡n Ãºnicamente para gestionar tu pedido y ofrecerte asesoramiento personalizado como consultora Oriflame.
            No se cederÃ¡n a terceros.
          </small>
        </label>
      </div>

      <p class="info">
        ğŸ“Œ Si solicitas asesoramiento, me pondrÃ© en contacto contigo lo antes posible.<br />
        ğŸ“¦ Si realizas un pedido, te escribirÃ© para confirmar disponibilidad, importe total y forma de pago antes del envÃ­o.
      </p>

      <button type="button" class="submit" onclick="enviarWhatsApp()">Preparar pedido</button>

      <a id="enlaceWA" class="whatsapp hidden" target="_blank">Abrir WhatsApp</a>
    </form>
  </div>

  <script>
    function agregarProducto() {
      const div = document.createElement("div");
      div.className = "producto";
      div.innerHTML = `
        <input type="text" placeholder="CÃ³digo del producto" class="codigo" />
        <input type="number" min="1" value="1" class="cantidad" />
        <button type="button" class="eliminar" onclick="eliminarProducto(this)">ğŸ—‘ï¸</button>
      `;
      document.getElementById("productos").appendChild(div);
    }

    function eliminarProducto(btn) {
      btn.parentElement.remove();
    }

    function enviarWhatsApp() {
      if (!document.getElementById("privacidad").checked) {
        alert("Debes aceptar la polÃ­tica de privacidad");
        return;
      }

      const productos = document.querySelectorAll(".producto");
      let productosTexto = "";

      productos.forEach((p, i) => {
        const codigo = p.querySelector(".codigo").value;
        const cantidad = p.querySelector(".cantidad").value;
        if (codigo) {
          productosTexto += `â€¢ ${codigo} x ${cantidad}\n`;
        }
      });

      const mensaje =
        `ğŸ›ï¸ *Nuevo pedido Oriflame*\n\n` +
        `ğŸ‘¤ Nombre: ${nombre.value}\n` +
        `ğŸ  DirecciÃ³n: ${direccion.value}\n` +
        `ğŸ“® CP: ${cp.value}\n` +
        `ğŸ“§ Email: ${email.value}\n` +
        `ğŸ“± TelÃ©fono: ${telefono.value}\n` +
        (horario.value ? `â° Horario: ${horario.value}\n` : "") +
        `\nğŸ›’ Productos:\n${productosTexto || "No especificados"}\n` +
        (asesoramiento.value ? `ğŸ’¬ Asesoramiento:\n${asesoramiento.value}\n` : "");

      const url =
        "https://api.whatsapp.com/send?phone=34610274439&text=" +
        encodeURIComponent(mensaje);

      const enlace = document.getElementById("enlaceWA");
      enlace.href = url;
      enlace.classList.remove("hidden");
      enlace.click();
    }
  </script>
</body>
</html>